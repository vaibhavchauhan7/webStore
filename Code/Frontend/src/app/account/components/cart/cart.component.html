<ng-container *ngIf="cartProducts && cartProducts.length !== 0">
    <div class="row mt-p5 mb-5">
        <div class="col-md-3 cartHeadings">
            <p>Product</p>
        </div>
        <div class="col-md-5 cartHeadings text-left">
            <p>Details</p>
        </div>
        <div class="col-md-2 cartHeadings text-right">
            <p>Quantity</p>
        </div>
        <div class="col-md-2 cartHeadings">
            <p>Price</p>
        </div>
    </div>
</ng-container>

<ng-container *ngFor="let product of cartProducts">
    <div class="row mb-5">
        <div [routerLink]="['/product', product.id, product.name]" class="col-md-3 text-center cursor-pointer"
             routerLinkActive="active">
            <img alt="ProductImage" class="image-size" src="{{product.imagePath}}">
        </div>

        <div class="col-md-5 cartDetails text-left">
            <p [routerLink]="['/product', product.id, product.name]"
               class="cursor-pointer" routerLinkActive="active">
                {{product.name}}
            </p>
            <button (click)="removeProductFromCart(product)" [attr.data-target]="'#' + modalID"
                    class="removeProduct" data-toggle="modal">
                Remove Item
            </button>
        </div>

        <div class="col-md-2 cartDetails text-right" style="right: 50px;">
            <p>{{product.quantity}}</p>
        </div>

        <div class="col-md-2 cartDetails">
            <p>Rs. {{product.price}}</p>
        </div>
    </div>
</ng-container>

<ng-container *ngIf="cartProducts && cartProducts.length === 0">
    <div class="center-align-hv emptyText">
        Cart is Empty &nbsp;:(
    </div>
</ng-container>

<ng-container *ngIf="cartProducts && cartProducts.length !== 0">
    <div class="row mt-p5">
        <div class="col-12 text-center">
            <button (click)="clearCart()" [attr.data-target]="'#' + modalID" [disabled]="cartProducts.length === 0"
                    class="removeProduct clearCart" data-toggle="modal">
                Clear Cart
            </button>&nbsp; &nbsp;

            <button class="continueShopping"
                    routerLink="/"
                    routerLinkActive="active">
                Continue Shopping
            </button>&nbsp; &nbsp;

            <button (click)="checkOut(cartProducts)" [attr.data-target]="'#' + modalID"
                    [disabled]="cartProducts.length === 0" class="checkout" data-toggle="modal">
                Checkout
            </button>
        </div>
    </div>
    <br/>
</ng-container>

<!--Remove Product From Cart - Confirmation Modal-->
<ng-container *ngIf="cartProduct">
    <app-modal [modalID]="modalID">
        <modalTitle>Warning</modalTitle>
        <modalBody>Are you sure you want to remove <b>{{cartProduct.name}}</b> from your cart?</modalBody>
        <modalDoneButton>
            <button (click)="removeProductFromCart(cartProduct, true)" class="btn btn-danger" data-dismiss="modal"
                    type="button">
                Yes, Remove It
            </button>
        </modalDoneButton>
        <modalCloseButton>
            <button (click)="resetValues()" class="btn btn-secondary"
                    data-dismiss="modal" type="button">
                No, Keep It
            </button>
        </modalCloseButton>
    </app-modal>
</ng-container>

<!--Clear Cart - Confirmation Modal-->
<ng-container *ngIf="cartProducts && modalID !== 'checkOut'">
    <app-modal [modalID]="modalID">
        <modalTitle>Warning</modalTitle>
        <modalBody>Are you sure you want to clear your cart?</modalBody>
        <modalDoneButton>
            <button (click)="clearCart(true)" class="btn btn-danger" data-dismiss="modal"
                    type="button">
                Yes, Clear Cart
            </button>
        </modalDoneButton>
        <modalCloseButton>
            <button (click)="resetValues()" class="btn btn-secondary"
                    data-dismiss="modal" type="button">
                No, Keep Everything
            </button>
        </modalCloseButton>
    </app-modal>
</ng-container>

<!--Checkout - Confirmation Modal-->
<ng-container *ngIf="cartProducts">
    <app-modal [modalID]="modalID">
        <modalTitle>Alert</modalTitle>
        <modalBody>Are you sure you are ready to checkout?</modalBody>
        <modalDoneButton>
            <button (click)="checkOut(cartProducts,true)" class="btn btn-success" data-dismiss="modal"
                    type="button">
                Yes, Checkout
            </button>
        </modalDoneButton>
        <modalCloseButton>
            <button (click)="resetValues()" class="btn btn-secondary"
                    data-dismiss="modal" type="button">
                No, Take Me Back
            </button>
        </modalCloseButton>
    </app-modal>
</ng-container>
